<div class="form__group">
  <label [for]="id">{{ label }}</label>

  <div class="form__group form__group--addon">
    <span class="form__icon" aria-hidden="true">
      @if (iconName) {
        <lucide-icon [name]="iconName" [size]="20" color="hsl(220, 10%, 46%)"> </lucide-icon>
      }
    </span>

    <input
      #inputElement
      [formControl]="control"
      [type]="type"
      [name]="name"
      [id]="id"
      [placeholder]="placeholder"
      [required]="required"
      [autofocus]="autoFocus"
    />
  </div>

  @if (control.invalid && control.touched) {
    <small class="error-text fade-in">
      @if (control.hasError('required')) {
        {{ label }} cannot be empty.
      } @else if (control.hasError('email')) {
        Please enter a valid e-mail address.
      } @else if (control.hasError('minlength')) {
        Password must be at least {{ control.getError('minlength').requiredLength }} characters.
      } @else {
        Invalid field.
      }
    </small>
  }
</div>
